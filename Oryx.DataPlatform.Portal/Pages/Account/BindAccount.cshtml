@page
@model OryxOryx.DataPlatform.Portal.Pages.Account.BindAccountModel
@{
    ViewData["Title"] = "BindAccount";
}

<h2>绑定手机号</h2>

<div id="appRegister">
    <form class="form-horizontal" id="appVotingCreate">
        <fieldset>
            <legend>绑定 </legend>
            <div class="form-group">
                <div class="col-lg-12">
                    <input type="text" class="form-control" placeholder="手机号" v-model="phoneNum">
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-12">
                    <input type="text" class="form-control" placeholder="验证码" v-model="code">
                    <button type="button" class="btn btn-default" v-bind:disabled="isButtonDisabled" v-on:click="sendCode">发送</button>
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-12">
                    <input type="password" class="form-control" placeholder="重复密码" v-model="doublePassword">
                </div>
            </div>
            <button type="button" class="btn btn-primary">注册</button>
            <a href="/Account/Login">返回登录</a>
        </fieldset>
    </form>
</div>


@section scripts{
    <script>
        new Vue({
            el: '#appRegister',
            data: {
                userName: '',
                password: '',
                doublePassword: '',
                isButtonDisabled: false
            },
            methods: {
                login: function () {
                    if (!this.password || this.password != this.doublePassword) {
                        alert('两次密码输入不一致')
                        return;
                    }
                    this.$http.post('/userAccount/register', {
                        userName: this.userName,
                        password: this.password
                    }).then(function (res) {

                    })
                },
                sendCode: function () {
                    
                }
            }
        })
    </script>
}